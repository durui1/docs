<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Spring IoC 基础 | hemiao3000</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="Java Note All in One">
    
    <link rel="preload" href="/assets/css/0.styles.f47fbc3a.css" as="style"><link rel="preload" href="/assets/js/app.2a0e0086.js" as="script"><link rel="preload" href="/assets/js/2.5197d4bf.js" as="script"><link rel="preload" href="/assets/js/328.8b54cbce.js" as="script"><link rel="prefetch" href="/assets/js/10.1e3cab56.js"><link rel="prefetch" href="/assets/js/100.89eb403f.js"><link rel="prefetch" href="/assets/js/101.42d7809e.js"><link rel="prefetch" href="/assets/js/102.1c8eb525.js"><link rel="prefetch" href="/assets/js/103.9b9587fa.js"><link rel="prefetch" href="/assets/js/104.e85d06e9.js"><link rel="prefetch" href="/assets/js/105.065aabba.js"><link rel="prefetch" href="/assets/js/106.c0bac4b5.js"><link rel="prefetch" href="/assets/js/107.a8264130.js"><link rel="prefetch" href="/assets/js/108.1477276e.js"><link rel="prefetch" href="/assets/js/109.88fbb61d.js"><link rel="prefetch" href="/assets/js/11.59a88738.js"><link rel="prefetch" href="/assets/js/110.bba6173c.js"><link rel="prefetch" href="/assets/js/111.34995448.js"><link rel="prefetch" href="/assets/js/112.3a469dd7.js"><link rel="prefetch" href="/assets/js/113.48b9f2fc.js"><link rel="prefetch" href="/assets/js/114.e0e063d3.js"><link rel="prefetch" href="/assets/js/115.eb7bf139.js"><link rel="prefetch" href="/assets/js/116.2189e21c.js"><link rel="prefetch" href="/assets/js/117.14be282d.js"><link rel="prefetch" href="/assets/js/118.99748a5e.js"><link rel="prefetch" href="/assets/js/119.e96e566b.js"><link rel="prefetch" href="/assets/js/12.298adfbe.js"><link rel="prefetch" href="/assets/js/120.384055c6.js"><link rel="prefetch" href="/assets/js/121.5ff8ea86.js"><link rel="prefetch" href="/assets/js/122.a0f0b033.js"><link rel="prefetch" href="/assets/js/123.77d612f1.js"><link rel="prefetch" href="/assets/js/124.1858235e.js"><link rel="prefetch" href="/assets/js/125.6088837a.js"><link rel="prefetch" href="/assets/js/126.f60cd78b.js"><link rel="prefetch" href="/assets/js/127.644059b1.js"><link rel="prefetch" href="/assets/js/128.ccde4b43.js"><link rel="prefetch" href="/assets/js/129.ea900aff.js"><link rel="prefetch" href="/assets/js/13.70824278.js"><link rel="prefetch" href="/assets/js/130.814ef2bd.js"><link rel="prefetch" href="/assets/js/131.0a15549e.js"><link rel="prefetch" href="/assets/js/132.5a483c59.js"><link rel="prefetch" href="/assets/js/133.f472519c.js"><link rel="prefetch" href="/assets/js/134.98724413.js"><link rel="prefetch" href="/assets/js/135.b1227763.js"><link rel="prefetch" href="/assets/js/136.569394ce.js"><link rel="prefetch" href="/assets/js/137.cb57c3ea.js"><link rel="prefetch" href="/assets/js/138.bf44da29.js"><link rel="prefetch" href="/assets/js/139.4d58dd61.js"><link rel="prefetch" href="/assets/js/14.2e6e5e48.js"><link rel="prefetch" href="/assets/js/140.9366ee37.js"><link rel="prefetch" href="/assets/js/141.f4b07b92.js"><link rel="prefetch" href="/assets/js/142.1135b70d.js"><link rel="prefetch" href="/assets/js/143.f4f7c551.js"><link rel="prefetch" href="/assets/js/144.39c67abd.js"><link rel="prefetch" href="/assets/js/145.d703b2bd.js"><link rel="prefetch" href="/assets/js/146.eb70e2fc.js"><link rel="prefetch" href="/assets/js/147.ce03361f.js"><link rel="prefetch" href="/assets/js/148.92d3943c.js"><link rel="prefetch" href="/assets/js/149.9863294e.js"><link rel="prefetch" href="/assets/js/15.da7ebcce.js"><link rel="prefetch" href="/assets/js/150.482dfaea.js"><link rel="prefetch" href="/assets/js/151.e10026cf.js"><link rel="prefetch" href="/assets/js/152.83952b99.js"><link rel="prefetch" href="/assets/js/153.7f3abc9c.js"><link rel="prefetch" href="/assets/js/154.8d6fe380.js"><link rel="prefetch" href="/assets/js/155.ee846f8c.js"><link rel="prefetch" href="/assets/js/156.30307bd5.js"><link rel="prefetch" href="/assets/js/157.cdd398ff.js"><link rel="prefetch" href="/assets/js/158.4fc1be51.js"><link rel="prefetch" href="/assets/js/159.3f8f4e04.js"><link rel="prefetch" href="/assets/js/16.32dbb119.js"><link rel="prefetch" href="/assets/js/160.8e328e24.js"><link rel="prefetch" href="/assets/js/161.1a1af511.js"><link rel="prefetch" href="/assets/js/162.c103da42.js"><link rel="prefetch" href="/assets/js/163.d9d38d65.js"><link rel="prefetch" href="/assets/js/164.e446e185.js"><link rel="prefetch" href="/assets/js/165.cee81e4f.js"><link rel="prefetch" href="/assets/js/166.2a838c3c.js"><link rel="prefetch" href="/assets/js/167.34bdc749.js"><link rel="prefetch" href="/assets/js/168.62adc13c.js"><link rel="prefetch" href="/assets/js/169.64528cc5.js"><link rel="prefetch" href="/assets/js/17.dd5dbf07.js"><link rel="prefetch" href="/assets/js/170.f4ff41c8.js"><link rel="prefetch" href="/assets/js/171.aebcc4a6.js"><link rel="prefetch" href="/assets/js/172.f941c291.js"><link rel="prefetch" href="/assets/js/173.0cb6857b.js"><link rel="prefetch" href="/assets/js/174.308fbfaa.js"><link rel="prefetch" href="/assets/js/175.1733770a.js"><link rel="prefetch" href="/assets/js/176.ffe8bb57.js"><link rel="prefetch" href="/assets/js/177.d61cf9c9.js"><link rel="prefetch" href="/assets/js/178.c676e6ad.js"><link rel="prefetch" href="/assets/js/179.021bd5b9.js"><link rel="prefetch" href="/assets/js/18.4c426f41.js"><link rel="prefetch" href="/assets/js/180.b6d56d9f.js"><link rel="prefetch" href="/assets/js/181.3e29a2f4.js"><link rel="prefetch" href="/assets/js/182.96c1421b.js"><link rel="prefetch" href="/assets/js/183.bfcdc6de.js"><link rel="prefetch" href="/assets/js/184.acb50183.js"><link rel="prefetch" href="/assets/js/185.2be24c25.js"><link rel="prefetch" href="/assets/js/186.8b6d56c2.js"><link rel="prefetch" href="/assets/js/187.83f09498.js"><link rel="prefetch" href="/assets/js/188.19f84a49.js"><link rel="prefetch" href="/assets/js/189.507b1b8f.js"><link rel="prefetch" href="/assets/js/19.a866d939.js"><link rel="prefetch" href="/assets/js/190.a7f35c31.js"><link rel="prefetch" href="/assets/js/191.44e116bb.js"><link rel="prefetch" href="/assets/js/192.7b3ad93e.js"><link rel="prefetch" href="/assets/js/193.3d7a6691.js"><link rel="prefetch" href="/assets/js/194.6b59737c.js"><link rel="prefetch" href="/assets/js/195.93da8eb6.js"><link rel="prefetch" href="/assets/js/196.a1dc2772.js"><link rel="prefetch" href="/assets/js/197.e8905822.js"><link rel="prefetch" href="/assets/js/198.73d65a99.js"><link rel="prefetch" href="/assets/js/199.e20013c6.js"><link rel="prefetch" href="/assets/js/20.b421340a.js"><link rel="prefetch" href="/assets/js/200.c40695bd.js"><link rel="prefetch" href="/assets/js/201.4a211b60.js"><link rel="prefetch" href="/assets/js/202.18d28a26.js"><link rel="prefetch" href="/assets/js/203.27baad27.js"><link rel="prefetch" href="/assets/js/204.a382712d.js"><link rel="prefetch" href="/assets/js/205.e1dc43b7.js"><link rel="prefetch" href="/assets/js/206.44bd5da0.js"><link rel="prefetch" href="/assets/js/207.4db861da.js"><link rel="prefetch" href="/assets/js/208.232fb574.js"><link rel="prefetch" href="/assets/js/209.42950be5.js"><link rel="prefetch" href="/assets/js/21.f95f1c41.js"><link rel="prefetch" href="/assets/js/210.2d10d529.js"><link rel="prefetch" href="/assets/js/211.b16924d3.js"><link rel="prefetch" href="/assets/js/212.a22fdde7.js"><link rel="prefetch" href="/assets/js/213.43351b18.js"><link rel="prefetch" href="/assets/js/214.0b4e4e90.js"><link rel="prefetch" href="/assets/js/215.92066f5f.js"><link rel="prefetch" href="/assets/js/216.2433eee2.js"><link rel="prefetch" href="/assets/js/217.87aa4253.js"><link rel="prefetch" href="/assets/js/218.3e291446.js"><link rel="prefetch" href="/assets/js/219.ba666ae8.js"><link rel="prefetch" href="/assets/js/22.f2f0b7f6.js"><link rel="prefetch" href="/assets/js/220.3dcced4b.js"><link rel="prefetch" href="/assets/js/221.8eff3d5c.js"><link rel="prefetch" href="/assets/js/222.4d16a7ca.js"><link rel="prefetch" href="/assets/js/223.4e3c17c8.js"><link rel="prefetch" href="/assets/js/224.389b19fe.js"><link rel="prefetch" href="/assets/js/225.ee085656.js"><link rel="prefetch" href="/assets/js/226.15bd3b0e.js"><link rel="prefetch" href="/assets/js/227.b12ea50d.js"><link rel="prefetch" href="/assets/js/228.5fe7b89c.js"><link rel="prefetch" href="/assets/js/229.e16a8ad5.js"><link rel="prefetch" href="/assets/js/23.3b332f61.js"><link rel="prefetch" href="/assets/js/230.db0c8438.js"><link rel="prefetch" href="/assets/js/231.9cf35e55.js"><link rel="prefetch" href="/assets/js/232.7bec532c.js"><link rel="prefetch" href="/assets/js/233.6ddb95e4.js"><link rel="prefetch" href="/assets/js/234.2101fb24.js"><link rel="prefetch" href="/assets/js/235.afb383b5.js"><link rel="prefetch" href="/assets/js/236.846b6704.js"><link rel="prefetch" href="/assets/js/237.26987a4d.js"><link rel="prefetch" href="/assets/js/238.e3e59456.js"><link rel="prefetch" href="/assets/js/239.5ea507c1.js"><link rel="prefetch" href="/assets/js/24.f970f639.js"><link rel="prefetch" href="/assets/js/240.766dc0cd.js"><link rel="prefetch" href="/assets/js/241.f91c7b87.js"><link rel="prefetch" href="/assets/js/242.baee8029.js"><link rel="prefetch" href="/assets/js/243.fa7f9b90.js"><link rel="prefetch" href="/assets/js/244.1b536f15.js"><link rel="prefetch" href="/assets/js/245.10355873.js"><link rel="prefetch" href="/assets/js/246.1671ca24.js"><link rel="prefetch" href="/assets/js/247.5acd1cfd.js"><link rel="prefetch" href="/assets/js/248.557b93ba.js"><link rel="prefetch" href="/assets/js/249.6325cda5.js"><link rel="prefetch" href="/assets/js/25.915ccb8b.js"><link rel="prefetch" href="/assets/js/250.2c47b263.js"><link rel="prefetch" href="/assets/js/251.b9915ea2.js"><link rel="prefetch" href="/assets/js/252.1769b4ce.js"><link rel="prefetch" href="/assets/js/253.b3f176b9.js"><link rel="prefetch" href="/assets/js/254.20747e20.js"><link rel="prefetch" href="/assets/js/255.10dd24b0.js"><link rel="prefetch" href="/assets/js/256.77789711.js"><link rel="prefetch" href="/assets/js/257.dfce5065.js"><link rel="prefetch" href="/assets/js/258.20d46398.js"><link rel="prefetch" href="/assets/js/259.7bb7e68d.js"><link rel="prefetch" href="/assets/js/26.6beeb907.js"><link rel="prefetch" href="/assets/js/260.7297cae9.js"><link rel="prefetch" href="/assets/js/261.1864517a.js"><link rel="prefetch" href="/assets/js/262.5d7edfe0.js"><link rel="prefetch" href="/assets/js/263.10d4609c.js"><link rel="prefetch" href="/assets/js/264.ed74db82.js"><link rel="prefetch" href="/assets/js/265.bf0968ee.js"><link rel="prefetch" href="/assets/js/266.aa1f5527.js"><link rel="prefetch" href="/assets/js/267.a60b73d1.js"><link rel="prefetch" href="/assets/js/268.93b88726.js"><link rel="prefetch" href="/assets/js/269.23335c50.js"><link rel="prefetch" href="/assets/js/27.e3d799b8.js"><link rel="prefetch" href="/assets/js/270.cdcc6831.js"><link rel="prefetch" href="/assets/js/271.895326b4.js"><link rel="prefetch" href="/assets/js/272.994f0815.js"><link rel="prefetch" href="/assets/js/273.4b7d1596.js"><link rel="prefetch" href="/assets/js/274.95de5708.js"><link rel="prefetch" href="/assets/js/275.d3f1ea3a.js"><link rel="prefetch" href="/assets/js/276.e523da0d.js"><link rel="prefetch" href="/assets/js/277.cfd44766.js"><link rel="prefetch" href="/assets/js/278.0c433a12.js"><link rel="prefetch" href="/assets/js/279.a1ed8745.js"><link rel="prefetch" href="/assets/js/28.04104649.js"><link rel="prefetch" href="/assets/js/280.3fcf8899.js"><link rel="prefetch" href="/assets/js/281.47c5a007.js"><link rel="prefetch" href="/assets/js/282.ba9f0bde.js"><link rel="prefetch" href="/assets/js/283.adfd31b2.js"><link rel="prefetch" href="/assets/js/284.60b76cd7.js"><link rel="prefetch" href="/assets/js/285.2b3e7c47.js"><link rel="prefetch" href="/assets/js/286.4d559cb5.js"><link rel="prefetch" href="/assets/js/287.20392707.js"><link rel="prefetch" href="/assets/js/288.25ea64b4.js"><link rel="prefetch" href="/assets/js/289.9eed054c.js"><link rel="prefetch" href="/assets/js/29.499f1d39.js"><link rel="prefetch" href="/assets/js/290.9d5b0811.js"><link rel="prefetch" href="/assets/js/291.2968091e.js"><link rel="prefetch" href="/assets/js/292.786f219f.js"><link rel="prefetch" href="/assets/js/293.49fce9ba.js"><link rel="prefetch" href="/assets/js/294.8efa6e84.js"><link rel="prefetch" href="/assets/js/295.2b36b304.js"><link rel="prefetch" href="/assets/js/296.d317e8a1.js"><link rel="prefetch" href="/assets/js/297.ccfd968b.js"><link rel="prefetch" href="/assets/js/298.8163f812.js"><link rel="prefetch" href="/assets/js/299.c36aa0b8.js"><link rel="prefetch" href="/assets/js/3.ec3ff53e.js"><link rel="prefetch" href="/assets/js/30.ffa7e894.js"><link rel="prefetch" href="/assets/js/300.3fdb0d70.js"><link rel="prefetch" href="/assets/js/301.6cb7bd6e.js"><link rel="prefetch" href="/assets/js/302.45daeffe.js"><link rel="prefetch" href="/assets/js/303.100b3d5b.js"><link rel="prefetch" href="/assets/js/304.2019f7cc.js"><link rel="prefetch" href="/assets/js/305.188c6b80.js"><link rel="prefetch" href="/assets/js/306.df056bf9.js"><link rel="prefetch" href="/assets/js/307.4339b90a.js"><link rel="prefetch" href="/assets/js/308.fa360ec4.js"><link rel="prefetch" href="/assets/js/309.f131c986.js"><link rel="prefetch" href="/assets/js/31.72c967d1.js"><link rel="prefetch" href="/assets/js/310.a662fb66.js"><link rel="prefetch" href="/assets/js/311.96067cfa.js"><link rel="prefetch" href="/assets/js/312.b439b634.js"><link rel="prefetch" href="/assets/js/313.aee52801.js"><link rel="prefetch" href="/assets/js/314.326267fc.js"><link rel="prefetch" href="/assets/js/315.19ccdf1b.js"><link rel="prefetch" href="/assets/js/316.1180f907.js"><link rel="prefetch" href="/assets/js/317.2d9d626f.js"><link rel="prefetch" href="/assets/js/318.0edae3ea.js"><link rel="prefetch" href="/assets/js/319.6e587615.js"><link rel="prefetch" href="/assets/js/32.1e042532.js"><link rel="prefetch" href="/assets/js/320.4da94556.js"><link rel="prefetch" href="/assets/js/321.bdf03815.js"><link rel="prefetch" href="/assets/js/322.2e95a194.js"><link rel="prefetch" href="/assets/js/323.6afcc73e.js"><link rel="prefetch" href="/assets/js/324.c7e424e8.js"><link rel="prefetch" href="/assets/js/325.1f5fe5cc.js"><link rel="prefetch" href="/assets/js/326.30472009.js"><link rel="prefetch" href="/assets/js/327.e1a3c701.js"><link rel="prefetch" href="/assets/js/329.e437b757.js"><link rel="prefetch" href="/assets/js/33.2071fa71.js"><link rel="prefetch" href="/assets/js/330.23075090.js"><link rel="prefetch" href="/assets/js/331.cb3c8ba2.js"><link rel="prefetch" href="/assets/js/332.d48777dd.js"><link rel="prefetch" href="/assets/js/333.20de85d6.js"><link rel="prefetch" href="/assets/js/334.9aa45eec.js"><link rel="prefetch" href="/assets/js/335.cf061868.js"><link rel="prefetch" href="/assets/js/336.7bdc4422.js"><link rel="prefetch" href="/assets/js/337.4c35c225.js"><link rel="prefetch" href="/assets/js/338.b258f72d.js"><link rel="prefetch" href="/assets/js/339.60b8a4dd.js"><link rel="prefetch" href="/assets/js/34.a8cfe758.js"><link rel="prefetch" href="/assets/js/340.b55b6096.js"><link rel="prefetch" href="/assets/js/341.84aca80e.js"><link rel="prefetch" href="/assets/js/342.9b2f9017.js"><link rel="prefetch" href="/assets/js/343.844f2bc7.js"><link rel="prefetch" href="/assets/js/344.6bb02350.js"><link rel="prefetch" href="/assets/js/345.9c62eaba.js"><link rel="prefetch" href="/assets/js/346.fca463be.js"><link rel="prefetch" href="/assets/js/347.8970fcbf.js"><link rel="prefetch" href="/assets/js/348.a6b83491.js"><link rel="prefetch" href="/assets/js/349.08be2f0b.js"><link rel="prefetch" href="/assets/js/35.cdd41f71.js"><link rel="prefetch" href="/assets/js/350.baf44f92.js"><link rel="prefetch" href="/assets/js/351.2d8a8d39.js"><link rel="prefetch" href="/assets/js/352.f666bb14.js"><link rel="prefetch" href="/assets/js/353.10ece07a.js"><link rel="prefetch" href="/assets/js/354.c6e9ef1f.js"><link rel="prefetch" href="/assets/js/355.40eec06d.js"><link rel="prefetch" href="/assets/js/356.cc2f1b7f.js"><link rel="prefetch" href="/assets/js/357.10e344e1.js"><link rel="prefetch" href="/assets/js/358.5e8d05a0.js"><link rel="prefetch" href="/assets/js/359.2d525223.js"><link rel="prefetch" href="/assets/js/36.919e6ba3.js"><link rel="prefetch" href="/assets/js/360.da8a1144.js"><link rel="prefetch" href="/assets/js/361.1ac300c0.js"><link rel="prefetch" href="/assets/js/362.8701799f.js"><link rel="prefetch" href="/assets/js/363.e46c31c4.js"><link rel="prefetch" href="/assets/js/364.fc6c4a8a.js"><link rel="prefetch" href="/assets/js/365.da925c8b.js"><link rel="prefetch" href="/assets/js/366.fa02c4db.js"><link rel="prefetch" href="/assets/js/367.e84e0fb3.js"><link rel="prefetch" href="/assets/js/368.359d83e3.js"><link rel="prefetch" href="/assets/js/369.58af2f70.js"><link rel="prefetch" href="/assets/js/37.88355974.js"><link rel="prefetch" href="/assets/js/370.66a40ffb.js"><link rel="prefetch" href="/assets/js/371.ee99818a.js"><link rel="prefetch" href="/assets/js/372.5d9079db.js"><link rel="prefetch" href="/assets/js/373.0359fd60.js"><link rel="prefetch" href="/assets/js/374.a4de99b1.js"><link rel="prefetch" href="/assets/js/375.4570b37a.js"><link rel="prefetch" href="/assets/js/376.53476bba.js"><link rel="prefetch" href="/assets/js/377.689818f7.js"><link rel="prefetch" href="/assets/js/378.d89d31af.js"><link rel="prefetch" href="/assets/js/379.fb82d60c.js"><link rel="prefetch" href="/assets/js/38.cad0fc71.js"><link rel="prefetch" href="/assets/js/380.85198566.js"><link rel="prefetch" href="/assets/js/381.ae8317d1.js"><link rel="prefetch" href="/assets/js/382.58c9e741.js"><link rel="prefetch" href="/assets/js/383.ee3fe633.js"><link rel="prefetch" href="/assets/js/384.0a191212.js"><link rel="prefetch" href="/assets/js/385.e3ccc3ad.js"><link rel="prefetch" href="/assets/js/386.22027d7d.js"><link rel="prefetch" href="/assets/js/387.3eeb0716.js"><link rel="prefetch" href="/assets/js/388.5c149843.js"><link rel="prefetch" href="/assets/js/389.9b50d957.js"><link rel="prefetch" href="/assets/js/39.24010b8d.js"><link rel="prefetch" href="/assets/js/390.39b1f5ff.js"><link rel="prefetch" href="/assets/js/391.cbcda5c9.js"><link rel="prefetch" href="/assets/js/392.f995f59f.js"><link rel="prefetch" href="/assets/js/393.2f75984b.js"><link rel="prefetch" href="/assets/js/394.ea7f3774.js"><link rel="prefetch" href="/assets/js/395.4f424dee.js"><link rel="prefetch" href="/assets/js/396.c76bc489.js"><link rel="prefetch" href="/assets/js/397.8a1b2cc3.js"><link rel="prefetch" href="/assets/js/398.42e064e4.js"><link rel="prefetch" href="/assets/js/399.16f3d435.js"><link rel="prefetch" href="/assets/js/4.93ec791c.js"><link rel="prefetch" href="/assets/js/40.bd3d9a39.js"><link rel="prefetch" href="/assets/js/400.3440cb4b.js"><link rel="prefetch" href="/assets/js/401.827b23b9.js"><link rel="prefetch" href="/assets/js/402.c6a70840.js"><link rel="prefetch" href="/assets/js/403.dc8d0f36.js"><link rel="prefetch" href="/assets/js/404.05a4374e.js"><link rel="prefetch" href="/assets/js/405.3c45c89c.js"><link rel="prefetch" href="/assets/js/406.66d1d0f4.js"><link rel="prefetch" href="/assets/js/407.a0518bda.js"><link rel="prefetch" href="/assets/js/408.0056dad8.js"><link rel="prefetch" href="/assets/js/409.1f9aefa6.js"><link rel="prefetch" href="/assets/js/41.9e141a4f.js"><link rel="prefetch" href="/assets/js/410.a35b5300.js"><link rel="prefetch" href="/assets/js/411.bc9650d2.js"><link rel="prefetch" href="/assets/js/412.e00f104b.js"><link rel="prefetch" href="/assets/js/413.25ef56c5.js"><link rel="prefetch" href="/assets/js/414.cdaa11bd.js"><link rel="prefetch" href="/assets/js/415.cce2a856.js"><link rel="prefetch" href="/assets/js/416.fa9934bd.js"><link rel="prefetch" href="/assets/js/417.500f47ea.js"><link rel="prefetch" href="/assets/js/418.2ef6f6ba.js"><link rel="prefetch" href="/assets/js/419.ec8571b4.js"><link rel="prefetch" href="/assets/js/42.d492b5aa.js"><link rel="prefetch" href="/assets/js/420.be2674a7.js"><link rel="prefetch" href="/assets/js/421.d7bb6384.js"><link rel="prefetch" href="/assets/js/422.8749a7a6.js"><link rel="prefetch" href="/assets/js/423.418f421a.js"><link rel="prefetch" href="/assets/js/424.9ba49f0f.js"><link rel="prefetch" href="/assets/js/425.2f1bc2f7.js"><link rel="prefetch" href="/assets/js/426.e0af5b96.js"><link rel="prefetch" href="/assets/js/427.4f00c4a0.js"><link rel="prefetch" href="/assets/js/43.9a0ca836.js"><link rel="prefetch" href="/assets/js/44.ac3652d4.js"><link rel="prefetch" href="/assets/js/45.2d07d148.js"><link rel="prefetch" href="/assets/js/46.0c2866e6.js"><link rel="prefetch" href="/assets/js/47.cf37ad71.js"><link rel="prefetch" href="/assets/js/48.74897468.js"><link rel="prefetch" href="/assets/js/49.f6cefa1d.js"><link rel="prefetch" href="/assets/js/5.112a4da8.js"><link rel="prefetch" href="/assets/js/50.6adecd4c.js"><link rel="prefetch" href="/assets/js/51.0f539ecd.js"><link rel="prefetch" href="/assets/js/52.ff2d24a2.js"><link rel="prefetch" href="/assets/js/53.41f9aecc.js"><link rel="prefetch" href="/assets/js/54.9986979d.js"><link rel="prefetch" href="/assets/js/55.c3bf2fc5.js"><link rel="prefetch" href="/assets/js/56.ca9f6c28.js"><link rel="prefetch" href="/assets/js/57.699610a3.js"><link rel="prefetch" href="/assets/js/58.dc7773de.js"><link rel="prefetch" href="/assets/js/59.b85736ff.js"><link rel="prefetch" href="/assets/js/6.3e921c42.js"><link rel="prefetch" href="/assets/js/60.f1003898.js"><link rel="prefetch" href="/assets/js/61.c4c403f4.js"><link rel="prefetch" href="/assets/js/62.ed8e50a5.js"><link rel="prefetch" href="/assets/js/63.64cd3fee.js"><link rel="prefetch" href="/assets/js/64.e388d5ae.js"><link rel="prefetch" href="/assets/js/65.29951343.js"><link rel="prefetch" href="/assets/js/66.1ea4ad87.js"><link rel="prefetch" href="/assets/js/67.463a27f8.js"><link rel="prefetch" href="/assets/js/68.88e8b422.js"><link rel="prefetch" href="/assets/js/69.ce1b84b3.js"><link rel="prefetch" href="/assets/js/7.5c268975.js"><link rel="prefetch" href="/assets/js/70.551c5f52.js"><link rel="prefetch" href="/assets/js/71.cd36811b.js"><link rel="prefetch" href="/assets/js/72.1b96650f.js"><link rel="prefetch" href="/assets/js/73.736d3bfe.js"><link rel="prefetch" href="/assets/js/74.96ff3fac.js"><link rel="prefetch" href="/assets/js/75.84d8a749.js"><link rel="prefetch" href="/assets/js/76.fac6e027.js"><link rel="prefetch" href="/assets/js/77.4f2d1524.js"><link rel="prefetch" href="/assets/js/78.aa8c1ca1.js"><link rel="prefetch" href="/assets/js/79.c31601c8.js"><link rel="prefetch" href="/assets/js/8.a4eb93a7.js"><link rel="prefetch" href="/assets/js/80.3139181d.js"><link rel="prefetch" href="/assets/js/81.614abe85.js"><link rel="prefetch" href="/assets/js/82.2d806c4d.js"><link rel="prefetch" href="/assets/js/83.537cd6eb.js"><link rel="prefetch" href="/assets/js/84.8be49118.js"><link rel="prefetch" href="/assets/js/85.eab92218.js"><link rel="prefetch" href="/assets/js/86.30bf9928.js"><link rel="prefetch" href="/assets/js/87.d4db1c81.js"><link rel="prefetch" href="/assets/js/88.1d9ff3df.js"><link rel="prefetch" href="/assets/js/89.21115247.js"><link rel="prefetch" href="/assets/js/9.c513f608.js"><link rel="prefetch" href="/assets/js/90.ade9e720.js"><link rel="prefetch" href="/assets/js/91.b4fdf18b.js"><link rel="prefetch" href="/assets/js/92.53aaea7d.js"><link rel="prefetch" href="/assets/js/93.0b954340.js"><link rel="prefetch" href="/assets/js/94.1e64c3b0.js"><link rel="prefetch" href="/assets/js/95.6a103dc3.js"><link rel="prefetch" href="/assets/js/96.716744ae.js"><link rel="prefetch" href="/assets/js/97.25459d09.js"><link rel="prefetch" href="/assets/js/98.b6c42c9e.js"><link rel="prefetch" href="/assets/js/99.b87bc26a.js">
    <link rel="stylesheet" href="/assets/css/0.styles.f47fbc3a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">hemiao3000</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工具库" class="dropdown-title"><span class="title">工具库</span> <span class="arrow down"></span></button> <button type="button" aria-label="工具库" class="mobile-dropdown-title"><span class="title">工具库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/utility/spring-utils/01-top4.html" class="nav-link">
  Spring 内置工具库
</a></li><li class="dropdown-item"><!----> <a href="/utility/guava/01-字符串工具类.html" class="nav-link">
  Guava 工具库
</a></li><li class="dropdown-item"><!----> <a href="/utility/3rd/01-slf4j.html" class="nav-link">
  其它工具库
</a></li><li class="dropdown-item"><!----> <a href="/gist/01-jdbc.html" class="nav-link">
  各种模板
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="第一阶段" class="dropdown-title"><span class="title">第一阶段</span> <span class="arrow down"></span></button> <button type="button" aria-label="第一阶段" class="mobile-dropdown-title"><span class="title">第一阶段</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/java/01-Java语法汇总.html" class="nav-link">
  Java
</a></li><li class="dropdown-item"><!----> <a href="/java-thread/01-base.html" class="nav-link">
  Java 多线程
</a></li><li class="dropdown-item"><!----> <a href="/java8/02-lambda.html" class="nav-link">
  JDK8 新特性
</a></li><li class="dropdown-item"><!----> <a href="/mysql/01-操作Database.html" class="nav-link">
  MySQL 数据库
</a></li><li class="dropdown-item"><!----> <a href="/jdbc/01-JDBC基础.html" class="nav-link">
  JDBC 操作数据库
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="第二阶段" class="dropdown-title"><span class="title">第二阶段</span> <span class="arrow down"></span></button> <button type="button" aria-label="第二阶段" class="mobile-dropdown-title"><span class="title">第二阶段</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/html/01-基本概念和结构.html" class="nav-link">
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/css/01-基本概念.html" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/js/01-基础.html" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/servlet/00-HTTP概述.html" class="nav-link">
  Servlet
</a></li><li class="dropdown-item"><!----> <a href="/junit/01-基础.html" class="nav-link">
  JUnit
</a></li><li class="dropdown-item"><!----> <a href="/mybatis/01-basics.html" class="nav-link">
  Mybatis
</a></li><li class="dropdown-item"><!----> <a href="/ajax/01-基础.html" class="nav-link">
  AJAX 请求及相关
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="第三阶段" class="dropdown-title"><span class="title">第三阶段</span> <span class="arrow down"></span></button> <button type="button" aria-label="第三阶段" class="mobile-dropdown-title"><span class="title">第三阶段</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/maven/001-基本概念.html" class="nav-link">
  Maven
</a></li><li class="dropdown-item"><!----> <a href="/spring/01-IoC.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Spring
</a></li><li class="dropdown-item"><!----> <a href="/spring-mvc/001-helloworld.html" class="nav-link">
  Spring MVC
</a></li><li class="dropdown-item"><!----> <a href="/spring-boot/02-Java代码配置.html" class="nav-link">
  Spring Boot
</a></li><li class="dropdown-item"><!----> <a href="/shiro/01-基础.html" class="nav-link">
  Shiro
</a></li><li class="dropdown-item"><!----> <a href="/restful/01-基础.html" class="nav-link">
  RESTful API
</a></li><li class="dropdown-item"><!----> <a href="/vue/vue-00-devtool.html" class="nav-link">
  Vue（上）
</a></li><li class="dropdown-item"><!----> <a href="/vue-cli/vue-cli-01.html" class="nav-link">
  Vue（下）
</a></li><li class="dropdown-item"><!----> <a href="/nginx/01-前后端分离.html" class="nav-link">
  Nginx
</a></li><li class="dropdown-item"><!----> <a href="/redis/01-简介.html" class="nav-link">
  Redis
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="第四阶段" class="dropdown-title"><span class="title">第四阶段</span> <span class="arrow down"></span></button> <button type="button" aria-label="第四阶段" class="mobile-dropdown-title"><span class="title">第四阶段</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/spring-cloud/00-拆分和restTemplate.html" class="nav-link">
  Spring Cloud
</a></li><li class="dropdown-item"><!----> <a href="/rabbitmq/01-简介.html" class="nav-link">
  RabbitMQ
</a></li><li class="dropdown-item"><!----> <a href="/es/00-素材.html" class="nav-link">
  ElasticSearch
</a></li><li class="dropdown-item"><!----> <a href="/spring-data-jpa/01.基本概念.html" class="nav-link">
  Spring Data JPA
</a></li><li class="dropdown-item"><!----> <a href="/other/01-SnowFlake.html" class="nav-link">
  其它
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="开发环境和软件安装" class="dropdown-title"><span class="title">开发环境和软件安装</span> <span class="arrow down"></span></button> <button type="button" aria-label="开发环境和软件安装" class="mobile-dropdown-title"><span class="title">开发环境和软件安装</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/windows/01-IDEA.html" class="nav-link">
  Windows
</a></li><li class="dropdown-item"><!----> <a href="/linux/00-预备知识.html" class="nav-link">
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/git/000-安装与配置.html" class="nav-link">
  Git
</a></li><li class="dropdown-item"><!----> <a href="/docker/01-简介和安装.html" class="nav-link">
  Docker
</a></li><li class="dropdown-item"><!----> <a href="/docker-install/01-mysql.html" class="nav-link">
  Docker 安装软件
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="面试复习" class="dropdown-title"><span class="title">面试复习</span> <span class="arrow down"></span></button> <button type="button" aria-label="面试复习" class="mobile-dropdown-title"><span class="title">面试复习</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/jvm/01-JVM内存布局.html" class="nav-link">
  Java 虚拟机
</a></li><li class="dropdown-item"><!----> <a href="/interview-questions/01-ArraySort.html" class="nav-link">
  面试题专题
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工具库" class="dropdown-title"><span class="title">工具库</span> <span class="arrow down"></span></button> <button type="button" aria-label="工具库" class="mobile-dropdown-title"><span class="title">工具库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/utility/spring-utils/01-top4.html" class="nav-link">
  Spring 内置工具库
</a></li><li class="dropdown-item"><!----> <a href="/utility/guava/01-字符串工具类.html" class="nav-link">
  Guava 工具库
</a></li><li class="dropdown-item"><!----> <a href="/utility/3rd/01-slf4j.html" class="nav-link">
  其它工具库
</a></li><li class="dropdown-item"><!----> <a href="/gist/01-jdbc.html" class="nav-link">
  各种模板
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="第一阶段" class="dropdown-title"><span class="title">第一阶段</span> <span class="arrow down"></span></button> <button type="button" aria-label="第一阶段" class="mobile-dropdown-title"><span class="title">第一阶段</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/java/01-Java语法汇总.html" class="nav-link">
  Java
</a></li><li class="dropdown-item"><!----> <a href="/java-thread/01-base.html" class="nav-link">
  Java 多线程
</a></li><li class="dropdown-item"><!----> <a href="/java8/02-lambda.html" class="nav-link">
  JDK8 新特性
</a></li><li class="dropdown-item"><!----> <a href="/mysql/01-操作Database.html" class="nav-link">
  MySQL 数据库
</a></li><li class="dropdown-item"><!----> <a href="/jdbc/01-JDBC基础.html" class="nav-link">
  JDBC 操作数据库
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="第二阶段" class="dropdown-title"><span class="title">第二阶段</span> <span class="arrow down"></span></button> <button type="button" aria-label="第二阶段" class="mobile-dropdown-title"><span class="title">第二阶段</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/html/01-基本概念和结构.html" class="nav-link">
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/css/01-基本概念.html" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/js/01-基础.html" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/servlet/00-HTTP概述.html" class="nav-link">
  Servlet
</a></li><li class="dropdown-item"><!----> <a href="/junit/01-基础.html" class="nav-link">
  JUnit
</a></li><li class="dropdown-item"><!----> <a href="/mybatis/01-basics.html" class="nav-link">
  Mybatis
</a></li><li class="dropdown-item"><!----> <a href="/ajax/01-基础.html" class="nav-link">
  AJAX 请求及相关
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="第三阶段" class="dropdown-title"><span class="title">第三阶段</span> <span class="arrow down"></span></button> <button type="button" aria-label="第三阶段" class="mobile-dropdown-title"><span class="title">第三阶段</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/maven/001-基本概念.html" class="nav-link">
  Maven
</a></li><li class="dropdown-item"><!----> <a href="/spring/01-IoC.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Spring
</a></li><li class="dropdown-item"><!----> <a href="/spring-mvc/001-helloworld.html" class="nav-link">
  Spring MVC
</a></li><li class="dropdown-item"><!----> <a href="/spring-boot/02-Java代码配置.html" class="nav-link">
  Spring Boot
</a></li><li class="dropdown-item"><!----> <a href="/shiro/01-基础.html" class="nav-link">
  Shiro
</a></li><li class="dropdown-item"><!----> <a href="/restful/01-基础.html" class="nav-link">
  RESTful API
</a></li><li class="dropdown-item"><!----> <a href="/vue/vue-00-devtool.html" class="nav-link">
  Vue（上）
</a></li><li class="dropdown-item"><!----> <a href="/vue-cli/vue-cli-01.html" class="nav-link">
  Vue（下）
</a></li><li class="dropdown-item"><!----> <a href="/nginx/01-前后端分离.html" class="nav-link">
  Nginx
</a></li><li class="dropdown-item"><!----> <a href="/redis/01-简介.html" class="nav-link">
  Redis
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="第四阶段" class="dropdown-title"><span class="title">第四阶段</span> <span class="arrow down"></span></button> <button type="button" aria-label="第四阶段" class="mobile-dropdown-title"><span class="title">第四阶段</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/spring-cloud/00-拆分和restTemplate.html" class="nav-link">
  Spring Cloud
</a></li><li class="dropdown-item"><!----> <a href="/rabbitmq/01-简介.html" class="nav-link">
  RabbitMQ
</a></li><li class="dropdown-item"><!----> <a href="/es/00-素材.html" class="nav-link">
  ElasticSearch
</a></li><li class="dropdown-item"><!----> <a href="/spring-data-jpa/01.基本概念.html" class="nav-link">
  Spring Data JPA
</a></li><li class="dropdown-item"><!----> <a href="/other/01-SnowFlake.html" class="nav-link">
  其它
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="开发环境和软件安装" class="dropdown-title"><span class="title">开发环境和软件安装</span> <span class="arrow down"></span></button> <button type="button" aria-label="开发环境和软件安装" class="mobile-dropdown-title"><span class="title">开发环境和软件安装</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/windows/01-IDEA.html" class="nav-link">
  Windows
</a></li><li class="dropdown-item"><!----> <a href="/linux/00-预备知识.html" class="nav-link">
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/git/000-安装与配置.html" class="nav-link">
  Git
</a></li><li class="dropdown-item"><!----> <a href="/docker/01-简介和安装.html" class="nav-link">
  Docker
</a></li><li class="dropdown-item"><!----> <a href="/docker-install/01-mysql.html" class="nav-link">
  Docker 安装软件
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="面试复习" class="dropdown-title"><span class="title">面试复习</span> <span class="arrow down"></span></button> <button type="button" aria-label="面试复习" class="mobile-dropdown-title"><span class="title">面试复习</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/jvm/01-JVM内存布局.html" class="nav-link">
  Java 虚拟机
</a></li><li class="dropdown-item"><!----> <a href="/interview-questions/01-ArraySort.html" class="nav-link">
  面试题专题
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Spring</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/spring/01-IoC.html" aria-current="page" class="active sidebar-link">Spring IoC 基础</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/spring/01-IoC.html#代码配置和-xml-配置" class="sidebar-link">代码配置和 xml 配置</a></li><li class="sidebar-sub-header"><a href="/spring/01-IoC.html#实例化-spring-ioc-容器" class="sidebar-link">实例化 Spring IoC 容器</a></li><li class="sidebar-sub-header"><a href="/spring/01-IoC.html#spring-通过-java-代码配置-java-bean" class="sidebar-link">Spring 通过 Java 代码配置 Java Bean</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/spring/01-IoC.html#创建对象的-3-种方式" class="sidebar-link">创建对象的 3 种方式</a></li><li class="sidebar-sub-header"><a href="/spring/01-IoC.html#java-bean-的属性的赋值" class="sidebar-link">Java Bean 的属性的赋值</a></li><li class="sidebar-sub-header"><a href="/spring/01-IoC.html#引用类型的属性的赋值" class="sidebar-link">引用类型的属性的赋值</a></li><li class="sidebar-sub-header"><a href="/spring/01-IoC.html#循环引用" class="sidebar-link">循环引用</a></li></ul></li><li class="sidebar-sub-header"><a href="/spring/01-IoC.html#简化配置" class="sidebar-link">简化配置</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/spring/01-IoC.html#component-注解" class="sidebar-link">@Component 注解</a></li><li class="sidebar-sub-header"><a href="/spring/01-IoC.html#configuration-注解" class="sidebar-link">@Configuration 注解</a></li><li class="sidebar-sub-header"><a href="/spring/01-IoC.html#value-注解和-propertysource-注解" class="sidebar-link">@Value 注解和 @PropertySource 注解</a></li><li class="sidebar-sub-header"><a href="/spring/01-IoC.html#autowired-注解" class="sidebar-link">@Autowired 注解</a></li><li class="sidebar-sub-header"><a href="/spring/01-IoC.html#qualifier-注解" class="sidebar-link">@Qualifier 注解</a></li></ul></li><li class="sidebar-sub-header"><a href="/spring/01-IoC.html#component-的无参构造和有参构造" class="sidebar-link">@Component 的无参构造和有参构造</a></li><li class="sidebar-sub-header"><a href="/spring/01-IoC.html#jsr-250-的-resource" class="sidebar-link">JSR-250 的 @Resource</a></li><li class="sidebar-sub-header"><a href="/spring/01-IoC.html#三种注入方式的使用技巧" class="sidebar-link">三种注入方式的使用技巧</a></li></ul></li><li><a href="/spring/02-IoC-xml.html" class="sidebar-link">Spring IoC 的 XML 配置</a></li><li><a href="/spring/86-spring-servlet.html" class="sidebar-link">Spring 整合 Servlet</a></li><li><a href="/spring/03-AOP.html" class="sidebar-link">Spring AOP</a></li><li><a href="/spring/04-AOP原理.html" class="sidebar-link">Spring AOP 的两种实现方案</a></li><li><a href="/spring/05-tx.html" class="sidebar-link">Spring 中 @Transactional 的使用</a></li><li><a href="/spring/06-spring-jdbc.html" class="sidebar-link">Spring JDBC</a></li><li><a href="/spring/07-spring-code-config.html" class="sidebar-link">SSM 的 Java 代码整合</a></li><li><a href="/spring/09-其它注解.html" class="sidebar-link">Spring 其它注解和杂项</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="spring-ioc-基础"><a href="#spring-ioc-基础" class="header-anchor">#</a> Spring IoC 基础</h1> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-context<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>${spring.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span> <span class="token comment">&lt;!-- 5.1.17.RELEASE --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="代码配置和-xml-配置"><a href="#代码配置和-xml-配置" class="header-anchor">#</a> 代码配置和 xml 配置</h2> <ul><li><p>Spring 从 <strong>2.x</strong> 开始，提供注解，用以简化 XML 配置文件配置</p></li> <li><p>Spring 从 <strong>3.x</strong> 开始，基于注解功能，『<strong>提供</strong>』了全新的配置方式：Java 代码配置方式。</p></li> <li><p>到 <strong>4.x</strong> 时代，Spring 官方『<strong>推荐</strong>』使用 Java 代码配置，以完全替代 XML 配置，实现零配置文件。</p></li> <li><p>到了 <strong>Spring Boot</strong> 时代，Spring 官方甚至直接『<strong>要求</strong>』使用 Spring 的代码配置方式进行配置。</p></li></ul> <p>实际上无论是从实际使用的灵活性、方便性，还是从官方的态度，都应该优先使用 Java 代码配置方式。</p> <h2 id="实例化-spring-ioc-容器"><a href="#实例化-spring-ioc-容器" class="header-anchor">#</a> 实例化 Spring IoC 容器</h2> <p>Spring 核心容器的理论很简单：<strong>Spring 核心容器就是一个超级大工厂，所有的单例对象都由它创建并管理</strong> 。</p> <p>你必须创建、实例化 Spring IoC 容器，读取其配置文件来创建 Bean 实例。然后你可以从 Spring IoC 容器中得到可用的 Bean 实例。</p> <div class="language- extra-class"><pre class="language-text"><code>BeanFactory  “老祖宗”接口
└── ApplicationContext  最常用接口
    └── AbstractApplicationContext  接口的抽象实现类
        ├── ClassPathXmlApplicationContext  具体实现类之一
        └── AnnotationConfigApplicationContext  具体实现类之二
</code></pre></div><p>Spring IoC 容器主要是基于 <strong>BeanFactory</strong> 和 <strong>ApplicationContext</strong> 两个接口：</p> <ul><li><p><strong>BeanFactory</strong> 是 Spring IoC 容器的顶层接口，它是整个 Spring IoC 容器体系的“老祖宗”。</p> <p>“老祖宗”接口中定义了我们未来最常用、最关注的方法：<strong>getBean</strong> 方法。</p></li> <li><p><strong>ApplicationContext</strong> 是最常用接口。</p></li> <li><p><strong>ClassPathXmlApplicationContext</strong> 是 <em>ApplicationContext</em> 的实现类之一。顾名思义，它从 classpath 中加载一个或多个 <em>.xml</em> 配置文件，构建一个应用程序上下文。</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">ApplicationContext</span> context <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ClassPathXmlApplicationContext</span><span class="token punctuation">(</span><span class="token string">&quot;aaa.xml&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">ApplicationContext</span> context <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ClassPathXmlApplicationContext</span><span class="token punctuation">(</span><span class="token string">&quot;bbb.xml&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ccc.xml&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p><strong>AnnotationConfigApplicationContext</strong> 也是 <em>ApplicationContext</em> 的实现类之二。不过它需要的是一个配置类或多个配置类，而非配置文件。</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">ApplicationContext</span> context <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AnnotationConfigApplicationContext</span><span class="token punctuation">(</span><span class="token class-name">Xxx</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">ApplicationContext</span> context <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AnnotationConfigApplicationContext</span><span class="token punctuation">(</span><span class="token class-name">Yyy</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token class-name">Zzz</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li></ul> <p>在获得『<strong>应用程序上下文</strong>』<small>（也就是 IoC 容器）</small>后，你只需要调用 <strong>getBean</strong> 方法并传入唯一的 Bean ID 和 Bean 的 Class 对象，就可以获得容器中的 Bean 。</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// 大多数情况下 id 非必须</span>
<span class="token class-name">Human</span> tom <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">&quot;tom&quot;</span><span class="token punctuation">,</span> <span class="token class-name">Human</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 或者</span>
<span class="token class-name">Human</span> tom <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token class-name">Human</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><blockquote><p>使用 Java 代码进行 Java Bean 的配置远比使用 XML 配置文件进行要简单很多，因为进行配置的『思维模式』发生了变化：</p> <ul><li><p>使用 XML 进行配置，你要面面俱到地『告知』Spring 你要如何如何地去创建、初始化一个 Bean 。</p></li> <li><p>使用 Java 代码进行配置，你只需要提供一个方法，你自己全权<small>（程序员）</small>负责方法的具体实现，并在方法的最后返回一个 Java Bean， <strong>Spring 不关心你的方法的实现内容和细节，它只保证未来调用你所写的方法，且只调用一次</strong> 。</p></li></ul> <p>在这种思路下，XML 配置的『<strong>很多情况</strong>』在 Java 代码中就被统一成了『<strong>一种情况</strong>』，因此变得更简洁。</p></blockquote> <h2 id="spring-通过-java-代码配置-java-bean"><a href="#spring-通过-java-代码配置-java-bean" class="header-anchor">#</a> Spring 通过 Java 代码配置 Java Bean</h2> <p>通过 Java 代码配置 Java Bean 的整体流程如下：</p> <ol><li><p>准备好一个配置类<small>（XxxConfig）</small>。其中写一个或多个方法，每个方法负责返回你的项目中的<small>（逻辑上的）</small>单例对象。</p> <p><small>至于你的项目中是有多少个单例对象，那就需要你自己去分析、去设计。</small></p> <p>例如：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">XxxConfig</span> <span class="token punctuation">{</span>
  
    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">DataSource</span> <span class="token function">dataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        <span class="token class-name">DruidDataSource</span> dataSource <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DruidDataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        dataSource<span class="token punctuation">.</span><span class="token function">setUrl</span><span class="token punctuation">(</span><span class="token string">&quot;jdbc:mysql://127.0.0.1:3306/scott?serverTimezone=UTC&amp;useUnicode=true&amp;characterEncoding=utf-8&amp;useSSL=false&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        dataSource<span class="token punctuation">.</span><span class="token function">setDriverClassName</span><span class="token punctuation">(</span><span class="token string">&quot;com.mysql.cj.jdbc.Driver&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        dataSource<span class="token punctuation">.</span><span class="token function">setUsername</span><span class="token punctuation">(</span><span class="token string">&quot;root&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        dataSource<span class="token punctuation">.</span><span class="token function">setPassword</span><span class="token punctuation">(</span><span class="token string">&quot;123456&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> dataSource<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>创建 <strong>AnnotationConfigApplicationContext</strong> 对象<small>（它就是我们口头所说的 Spring IoC 容器）</small>，并将上述的配置类作为参数传递给它。</p> <p>在背后发生了这样的一件事情：Spring IoC 容器会去调用，你上述的配置类中的标注了 <strong>@Bean</strong> 的方法。它只调用一次，并将这些方法的返回值<small>（各个对象的引用）</small>保存起来。</p> <p><small>毫无疑问，这个对象必定就是单例的。</small></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">AnnotationConfigApplicationContext</span> context <span class="token operator">=</span> 
    <span class="token keyword">new</span> <span class="token class-name">AnnotationConfigApplicationContext</span><span class="token punctuation">(</span><span class="token class-name">YyyConfig</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>根据我们自己的需要，你可以向 Spring IoC 容器要（ <code>context.getBean(XXX.class)</code> ）上述的配置类中的这么些个单例对象。</p> <p><small>在获得这些单例对象之后，你要干什么，就是你自己的事情了。</small></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">DataSource</span> ds <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token class-name">DataSource</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Connection</span> connection <span class="token operator">=</span> ds<span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
</code></pre></div></li></ol> <h3 id="创建对象的-3-种方式"><a href="#创建对象的-3-种方式" class="header-anchor">#</a> 创建对象的 3 种方式</h3> <blockquote><p>再次强调，以何种方式创建对象<small>（包括如何赋值，赋什么值）</small>这是程序员自己考虑的事情，Spring IoC 并不关心。它只关心、关注你所提供的方法的返回值<small>（对象）</small>。</p></blockquote> <p>创建 Bean ，常见的方式常见 3 种：</p> <table><thead><tr><th style="text-align:center;">#</th> <th style="text-align:left;">方式</th></tr></thead> <tbody><tr><td style="text-align:center;">1</td> <td style="text-align:left;">类自身的构造方法</td></tr> <tr><td style="text-align:center;">2</td> <td style="text-align:left;">工厂类提供的工厂方法</td></tr> <tr><td style="text-align:center;">3</td> <td style="text-align:left;">工厂对象提供的工厂方法</td></tr></tbody></table> <p>在 Spring 的代码配置中，你自己决定使用何种方式创建对象并返回：</p> <ul><li><p>通过类自身的构造方法</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Bean</span>
<span class="token keyword">public</span> <span class="token class-name">DataSource</span> <span class="token function">dataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
    <span class="token class-name">DruidDataSource</span> dataSource <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DruidDataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    dataSource<span class="token punctuation">.</span><span class="token function">setUrl</span><span class="token punctuation">(</span><span class="token string">&quot;jdbc:mysql://127.0.0.1:3306/scott?serverTimezone=UTC&amp;useUnicode=true&amp;characterEncoding=utf-8&amp;useSSL=false&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    dataSource<span class="token punctuation">.</span><span class="token function">setDriverClassName</span><span class="token punctuation">(</span><span class="token string">&quot;com.mysql.cj.jdbc.Driver&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    dataSource<span class="token punctuation">.</span><span class="token function">setUsername</span><span class="token punctuation">(</span><span class="token string">&quot;root&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    dataSource<span class="token punctuation">.</span><span class="token function">setPassword</span><span class="token punctuation">(</span><span class="token string">&quot;123456&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> dataSource<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>工厂类提供的工厂方法</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Bean</span>
<span class="token keyword">public</span> <span class="token class-name">DataSource</span> <span class="token function">dataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
    <span class="token class-name">Properties</span> properties <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Properties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    properties<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">&quot;driver&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;com.mysql.cj.jdbc.Driver&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    properties<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">&quot;url&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;jdbc:mysql://127.0.0.1:3306/scott?serverTimezone=UTC&amp;useUnicode=true&amp;characterEncoding=utf-8&amp;useSSL=false&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    properties<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;root&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    properties<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">&quot;password&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;123456&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">DataSource</span> dataSource <span class="token operator">=</span> <span class="token class-name">DruidDataSourceFactory</span><span class="token punctuation">.</span><span class="token function">createDataSource</span><span class="token punctuation">(</span>properties<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> dataSource<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>工厂对象提供的工厂方法</p> <p>略。</p></li></ul> <h3 id="java-bean-的属性的赋值"><a href="#java-bean-的属性的赋值" class="header-anchor">#</a> Java Bean 的属性的赋值</h3> <p>在 Java 代码配置中，和『<strong>如何创建对象是程序员的“家务事”，Spring 并不关心</strong>』一样，『<strong>以何种方式<small>（有参构造 or Setter）</small>为对象的属性赋值，以及赋何值也是程序员的“家务事”</strong>』，Spring 也不关心。</p> <p>上述 <strong>@Bean</strong> 方法所返回的 Java Bean，对 Spring 而言，其属性有值，就有值，没有值，就没有值；是这个值，就是这个值，是那个值就是那个值。</p> <blockquote><p>在 XML 方式的配置中，为 Java Bean 赋初值的配置要啰嗦的多得多。</p></blockquote> <h3 id="引用类型的属性的赋值"><a href="#引用类型的属性的赋值" class="header-anchor">#</a> 引用类型的属性的赋值</h3> <p>大多数情况下，在 Java 代码的配置中，为对象的属性赋值都比较直接。但是在 Spring 的容器中，Java Bean 可能会存在引用。</p> <p>即，一个 Spring 容器中的 Java Bean 的某个属性的值是容器中的另一个 Java Bean 的引用。</p> <p>在 Java 代码配置中，有多<small>（3）</small>种方式来配置 Java Bean 的引用关系，这里推荐使『<strong>通过参数表示引用关系</strong>』：</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.zaxxer<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>HikariCP<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>${hikaricp.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span> <span class="token comment">&lt;!-- 3.2.0 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Bean</span>
<span class="token keyword">public</span> <span class="token class-name">HikariConfig</span> <span class="token function">hikariConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">HikariConfig</span> config <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HikariConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    config<span class="token punctuation">.</span><span class="token function">setDriverClassName</span><span class="token punctuation">(</span><span class="token string">&quot;com.mysql.cj.jdbc.Driver&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    config<span class="token punctuation">.</span><span class="token function">setJdbcUrl</span><span class="token punctuation">(</span><span class="token string">&quot;jdbc:mysql://127.0.0.1:3306/scott?serverTimezone=UTC&amp;useUnicode=true&amp;characterEncoding=utf-8&amp;useSSL=false&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    config<span class="token punctuation">.</span><span class="token function">setUsername</span><span class="token punctuation">(</span><span class="token string">&quot;root&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    config<span class="token punctuation">.</span><span class="token function">setPassword</span><span class="token punctuation">(</span><span class="token string">&quot;123456&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> config<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token annotation punctuation">@Bean</span>
<span class="token keyword">public</span> <span class="token class-name">DataSource</span> <span class="token function">dataSource</span><span class="token punctuation">(</span><span class="token class-name">HikariConfig</span> config<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">DataSource</span> dataSource <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HikariDataSource</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> dataSource<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="循环引用"><a href="#循环引用" class="header-anchor">#</a> 循环引用</h3> <p>如果 Spring 容器中的两个对象，相互引用，那么会遇到循环引用问题：</p> <ul><li><p>类定义：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Husband</span> <span class="token punctuation">{</span>
  <span class="token keyword">private</span> <span class="token class-name">Wife</span> wife<span class="token punctuation">;</span>
  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> 
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Wife</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">Husband</span> husband<span class="token punctuation">;</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>常规配置：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Bean</span>
<span class="token keyword">public</span> <span class="token class-name">Husband</span> <span class="token function">husband</span><span class="token punctuation">(</span><span class="token class-name">Wife</span> wife<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>

<span class="token annotation punctuation">@Bean</span>
<span class="token keyword">public</span> <span class="token class-name">Wife</span> <span class="token function">wife</span><span class="token punctuation">(</span><span class="token class-name">Husband</span> husband<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>
</code></pre></div></li></ul> <p>解决这个问题的办法是对两个 Bean 中的其中一个使用 <strong>@Lazy</strong> 注解：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Bean</span>
<span class="token keyword">public</span> <span class="token class-name">Husband</span> <span class="token function">husband</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Lazy</span> <span class="token class-name">Wife</span> wife<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>

<span class="token annotation punctuation">@Bean</span>
<span class="token keyword">public</span> <span class="token class-name">Wife</span> <span class="token function">wife</span><span class="token punctuation">(</span><span class="token class-name">Husband</span> husband<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>
</code></pre></div><p>通过 <strong>@Lazy</strong> 注解，Spring 生成并返回了一个 Wife 的代理对象，因此给 Husband 注入的 Wife 并非真实对象，而是其代理，从而顺利完成了 Husband 实例的构造<small>（而不是报错）</small>；而 Wife 依赖的 Husband 是直注入完整的 Husband 对象本身。因此，这里通过 <strong>@Lazy</strong> 巧妙地避开了循环依赖的发生。</p> <h2 id="简化配置"><a href="#简化配置" class="header-anchor">#</a> 简化配置</h2> <p>如果我们的项目中有几十个 Java Bean 要配置，那么就需要我们去编写几十个 <strong>@Bean</strong> 方法。很显然，这是很麻烦的事情。</p> <p>为此，Spring 提供了几个注解来简化我们的配置。</p> <h3 id="component-注解"><a href="#component-注解" class="header-anchor">#</a> @Component 注解</h3> <p><strong>@Component</strong> 注解用于标注于 Bean 的类上。凡是被标注了该注解的类<small>（只要在扫描路径下）</small>都会被 Spring 创建。</p> <p><em>@Component</em> 注解有唯一的属性 <strong>value</strong> 属性。它用来为 Bean 命名。</p> <p><strong>@Component</strong> 注解有三个语义化的子注解：</p> <table><thead><tr><th style="text-align:left;">语义化子注解</th> <th style="text-align:left;">用处</th></tr></thead> <tbody><tr><td style="text-align:left;"><strong>@Repository</strong></td> <td style="text-align:left;">用于持久层</td></tr> <tr><td style="text-align:left;"><strong>@Service</strong></td> <td style="text-align:left;">用于业务层</td></tr> <tr><td style="text-align:left;"><strong>@Controller</strong></td> <td style="text-align:left;">用于 Web 层</td></tr></tbody></table> <p><strong>@Component</strong> 注解要结合 <strong>@ComponentScan</strong> 注解使用：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@ComponentScan</span><span class="token punctuation">(</span>basePackages <span class="token operator">=</span> <span class="token string">&quot;com.example&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ApplicationConfig</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="configuration-注解"><a href="#configuration-注解" class="header-anchor">#</a> @Configuration 注解</h3> <p><strong>@Configuration</strong> 专用于标注于我们的配置类<small>（XxxConfig）</small>上。</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Configuration</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">YyyConfig</span> <span class="token punctuation">{</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>
</code></pre></div><p>它有 2 个作用：</p> <ul><li><p>逻辑上，它可以用来标识『这个类是个配置类』。</p></li> <li><p>它会导致 Spring IoC 容器将这个配置类的对象，打入到 Spring IoC 容器的管理范畴内。</p> <p>简单来说，这样一来 Spring IoC 容器中会『多』出来一个单例对象：YyyConfig 对象。</p></li></ul> <h3 id="value-注解和-propertysource-注解"><a href="#value-注解和-propertysource-注解" class="header-anchor">#</a> @Value 注解和 @PropertySource 注解</h3> <p><strong>@Value</strong> 注解用于标注于『<strong>简单类型</strong>』属性上。凡是被标注了该注解的属性都会被 Spring 注入值<small>（赋值）</small>。</p> <p><strong>@Value</strong> 注解有唯一的属性 <strong>value</strong> 属性。它用来为简单属性指定值。</p> <hr> <p><strong>@PropertySource</strong> 可以配合 <strong>@Value</strong> 来简化对简单类型的属性的赋值。</p> <p><strong>@PropertySource</strong> 除了可以直接用在 <strong>@Component</strong> 上，也可以用在配置类上。</p> <ul><li><p>jdbc.properties</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token attr-name">xxx.yyy.zzz.driver-class-name</span><span class="token punctuation">=</span><span class="token attr-value">com.mysql.cj.jdbc.Driver</span>
<span class="token attr-name">xxx.yyy.zzz.url</span><span class="token punctuation">=</span><span class="token attr-value">jdbc:mysql://127.0.0.1:3306/scott\
  ?useUnicode=true\
  &amp;characterEncoding=utf-8\
  &amp;useSSL=false\
  &amp;serverTimezone=UTC</span>
<span class="token attr-name">xxx.yyy.zzz.username</span><span class="token punctuation">=</span><span class="token attr-value">root</span>
<span class="token attr-name">xxx.yyy.zzz.password</span><span class="token punctuation">=</span><span class="token attr-value">123456</span>
</code></pre></div><p>注意，这里有个和本知识点无关的小细节：需要有前缀，否则会因为命名冲突导致问题。<small>因为， <em>driver-class-name</em> 、<em>url</em> 、<em>username</em> 、<em>password</em> 这些单词太常见了。</small></p></li> <li><p>Java Bean</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@PropertySource</span><span class="token punctuation">(</span><span class="token string">&quot;classpath:jdbc.properties&quot;</span><span class="token punctuation">)</span>   <span class="token comment">// 看这里，看这里，看这里</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ZzzConfig</span><span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">&quot;${xxx.yyy.zzz.driver-class-name}&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> driver<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">&quot;${xxx.yyy.zzz.url}&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> url<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">&quot;${xxx.yyy.zzz.username}&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> username<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">&quot;${xxx.yyy.zzz.password}&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> password<span class="token punctuation">;</span>

    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ul> <h3 id="autowired-注解"><a href="#autowired-注解" class="header-anchor">#</a> @Autowired 注解</h3> <p><strong>@Autowired</strong> 注解用于标注于『<strong>引用类型</strong>』属性上。凡是被标注了该注解的属性都会被 Spring 以『<strong>类型</strong>』为依据注入另一个 Bean 的引用。</p> <p><strong>@Autowired</strong> 注解有唯一的属性 <strong>required</strong> 属性<small>（默认值为 <code>true</code>）</small>。它用来指示该对该属性的注入是否为必须<small>（默认为 <code>必须</code>）</small>，即，在 Spring IoC 容器中没有发现符合类型的其它 Bean 时，会抛出异常。</p> <h3 id="qualifier-注解"><a href="#qualifier-注解" class="header-anchor">#</a> @Qualifier 注解</h3> <p><strong>@Qualifier</strong> 注解需要结合 <strong>@Autowired</strong> 注解使用。它用于标注于引用类型属性上。凡是被标注了该注解的属性都会被 Spring 以『<strong>名字</strong>』为依据注入另一个 Bean 的引用。</p> <p><strong>@Qualifier</strong> 注解有唯一的属性 <strong>value</strong> 属性。它用于指示需要注入的另一个 Bean 的名字。</p> <blockquote><p>一个小细节：包扫描的 Bean 会早于配置的 bean 先创建。</p></blockquote> <h2 id="component-的无参构造和有参构造"><a href="#component-的无参构造和有参构造" class="header-anchor">#</a> @Component 的无参构造和有参构造</h2> <p>如果你使用了 <strong>@Component</strong> 的 Java Bean 中有无参的构造器，或包括无参构造器在内的多个构造器，那么：</p> <p>Spring 是使用你的『<strong>无参构造器</strong>』来创建对象，<small>（此时对象的各个属性还没有值）</small>，然后再通过『<strong>反射</strong>』对各个属性赋值。</p> <p>如果你的类的构造器『<strong>只有有参构造器</strong>』，而没有无参的构造器，那么，Spring 会调用你有参的构造器去创建这个对象，并同时完成对其属性的赋值。此后，Spring 不再另外对你的属性赋值。</p> <p>Spring 官方推荐使用有参构造器创建并初始化对象。<small>如果遇到循环依赖问题，使用前面所说的 <strong>@Lazy</strong> 解决。</small></p> <h2 id="jsr-250-的-resource"><a href="#jsr-250-的-resource" class="header-anchor">#</a> JSR-250 的 @Resource</h2> <p>Spring 不但支持自己定义的 <strong>@Autowired</strong> 注解，还支持几个由 <strong>JSR-250</strong> 规范定义的注解，它们分别是 <strong>@Resource</strong>、@PostConstruct 以及 @PreDestroy 。</p> <p>简单来说， <strong>@Resource</strong> 一个人就能实现 <code>@Autowired</code> 和 <code>@Autowired + @Qualifier</code> 两种功能。</p> <p><strong>@Resource</strong> 有两个重要属性：<strong>name</strong> 和 <strong>type</strong>：</p> <ul><li><p><strong>name</strong> 属性解析为 JavaBean 的名字</p></li> <li><p><strong>type</strong> 属性则解析为 JavaBean 的类型</p></li></ul> <p>因此， <strong>name</strong> 属性和 <strong>type</strong> 属性两者同时出现，或同时不出现，亦或者出现一个，就意味着不同的『<strong>注入规则</strong>』，也就分成了 4 种不同情况：</p> <ol><li><p>如果同时指定了 <code>name</code> 和 <code>type</code> ，则从 IoC 容器中查找同时匹配这两个条件的 Bean 进行装配，找不到则抛出异常。</p> <p>注意，type 和 name 两个条件是『<strong>且</strong>』的关系。</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// Spring 在 IoC 容器中查找类型是 DaoDao，且名字是 catDao 的 JavaBean </span>
<span class="token comment">// 来为 animalDao 属性赋值。</span>
<span class="token annotation punctuation">@Resource</span><span class="token punctuation">(</span>type <span class="token operator">=</span> <span class="token class-name">DogDao</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> name <span class="token operator">=</span> <span class="token string">&quot;catDao&quot;</span><span class="token punctuation">)</span> 
<span class="token keyword">private</span> <span class="token class-name">AnimalDao</span> animalDao<span class="token punctuation">;</span>
</code></pre></div></li> <li><p>如果只指定了 <code>name</code> ，则从 IoC 容器中查找 name 匹配的 Bean 进行装配，找不到则抛出异常。</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// Spring 在 IoC 容器中查找名字是 catDao 的 JavaBean </span>
<span class="token comment">// 来为 animalDao 属性赋值。</span>
<span class="token annotation punctuation">@Resource</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;catDao&quot;</span><span class="token punctuation">)</span> 
<span class="token keyword">private</span> <span class="token class-name">AnimalDao</span> animalDao<span class="token punctuation">;</span>
</code></pre></div></li> <li><p>如果只指定了 <code>type</code> ，则从 IoC 容器中查找 <em>type</em> 匹配的 Bean 进行装配，找不到或者找到多个，都会抛出异常。</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// Spring 在 IoC 容器中查找类型是 DogDao 的 JavaBean 来为 animalDao 属性赋值。</span>
<span class="token annotation punctuation">@Resource</span><span class="token punctuation">(</span>type <span class="token operator">=</span> <span class="token class-name">DogDao</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
<span class="token keyword">private</span> <span class="token class-name">AnimalDao</span> animalDao<span class="token punctuation">;</span>
</code></pre></div></li> <li><p>如果既没有指定 <em>name</em> ，又没有指定 <em>type</em> ，则先以 <em>name</em> 为依据在 IoC 容器中查找，如果没有找到，再以 <em>type</em> 为依据在 IoC 容器中查找。</p> <p>这种情况下，类型和名字不是『且』的关系，而是『<strong>或</strong>』的关系。</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// Spring IoC 先在容器中查找名字为 animalDao 的 JavaBean 来为 animalDao 属性赋值。</span>
<span class="token comment">// 如果没有找到，Spring IoC 再在容器中查找类型为 AnimalDao 的 JavaBean 来为 animal 属性赋值。</span>
<span class="token annotation punctuation">@Resource</span>
<span class="token keyword">private</span> <span class="token class-name">AnimalDao</span> animalDao<span class="token punctuation">;</span>
</code></pre></div></li></ol> <h2 id="三种注入方式的使用技巧"><a href="#三种注入方式的使用技巧" class="header-anchor">#</a> 三种注入方式的使用技巧</h2> <p>『基于字段的依赖注入』方式有很多缺点，我们应当避免使用基于字段的依赖注入。</p> <p>推荐的方法是使用『基于构造函数的依赖注入』方式和『基于 setter 方法的依赖注入』方式。</p> <ul><li><p>对于『<strong>必需的</strong>』依赖项，建议使用基于构造函数的注入，以使它们成为不可变的，并防止它们为 null 。</p></li> <li><p>对于『<strong>可选的</strong>』依赖项，建议使用基于 Setter 方法的注入。</p></li></ul></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/spring/02-IoC-xml.html">
        Spring IoC 的 XML 配置
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.2a0e0086.js" defer></script><script src="/assets/js/2.5197d4bf.js" defer></script><script src="/assets/js/328.8b54cbce.js" defer></script>
  </body>
</html>
